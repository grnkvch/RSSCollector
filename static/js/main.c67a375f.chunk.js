(this.webpackJsonprsscollector=this.webpackJsonprsscollector||[]).push([[0],{27:function(e,t,n){e.exports=n(63)},39:function(e,t,n){},40:function(e,t,n){},59:function(e,t,n){},60:function(e,t,n){},61:function(e,t,n){},62:function(e,t,n){},63:function(e,t,n){"use strict";n.r(t);var r={};n.r(r),n.d(r,"addContent",(function(){return k})),n.d(r,"addSource",(function(){return D})),n.d(r,"toggleSource",(function(){return N})),n.d(r,"fetchContent",(function(){return C})),n.d(r,"fetchSource",(function(){return A}));var c=n(0),a=n.n(c),o=n(9),u=n.n(o),i=n(6),s=n(4),l=n(25),f=[],p=n(2),d=new Map(localStorage.sources?JSON.parse(localStorage.sources):null),m=Object(s.c)({content:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:f,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"ADD_CONTENT":var n=t.payload.content;return n;default:return e}},source:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:d,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"ADD_SOURCE":var n=t.payload.sourceList;return new Map([].concat(Object(p.a)(e),Object(p.a)(n.map((function(t){return[t,!e.has(t)||e.get(t)]})))));case"TOGGLE_SOURCE":var r=t.payload.source,c=new Map(e);return c.set(r,!c.get(r)),c;default:return e}}}),h=Object(s.d)(m,Object(s.a)(l.a)),v=(n(39),n(40),n(26)),b=n(7);var O=n(8),E=n.n(O),y=n(12),g=n(13),j=n.n(g),w="https://rss-collector-back.herokuapp.com";function S(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:new Map,t="".concat(w,"/?");return e.forEach((function(e,n){e&&(t+="source[]=".concat(n,"&"))})),t}var k=function(e){return{type:"ADD_CONTENT",payload:{content:e}}},D=function(e){return{type:"ADD_SOURCE",payload:{sourceList:e}}},N=function(e){return{type:"TOGGLE_SOURCE",payload:{source:e}}},C=function(){return function(){var e=Object(y.a)(E.a.mark((function e(t,n){var r,c,a,o;return E.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=n(),c=r.source,e.next=3,j.a.get(S(c));case 3:return a=e.sent,o=a.data,t(k(o)),e.abrupt("return",o);case 7:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}()},A=function(){return function(){var e=Object(y.a)(E.a.mark((function e(t){var n,r;return E.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,j.a.get("".concat(w,"/get-sources"));case 2:return n=e.sent,r=n.data,t(D(r)),e.abrupt("return",r);case 6:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()},T=function(e){return e.source},x=function(e){return e.content};n(59);var P=function(e){var t=e.item;return a.a.createElement("a",{key:t.link,className:"card",href:t.link,target:"_blank",rel:"noopener noreferrer"},a.a.createElement("div",{className:"dateTime"},a.a.createElement("p",null,new Date(t.pubDate).toLocaleString("ru-RU",{year:"numeric",month:"long",day:"numeric"})),a.a.createElement("p",null,new Date(t.pubDate).toLocaleTimeString("ru-RU"))),a.a.createElement("p",{className:"source"},t.sourceTitle),a.a.createElement("p",{className:"description"},t.title),!!t.thumbnail&&a.a.createElement("img",{src:t.thumbnail,alt:"cute random ",style:{width:"100%",height:"100%"}}))};n(60);function L(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}var _=function(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?L(n,!0).forEach((function(t){Object(v.a)(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):L(n).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}({},r),M=Object(i.b)((function(e,t){return{sources:T(e),data:x(e)}}),_)((function(e){var t=e.fetchSource,n=e.sources,r=e.fetchContent,o=e.data,u=Object(c.useState)(1),i=Object(b.a)(u,2),s=i[0],l=i[1],f=Object(c.useState)([]),d=Object(b.a)(f,2),m=d[0],h=d[1];return Object(c.useEffect)((function(){var e=function(){var e=document.querySelector(".content-container").offsetWidth;if(e){var t=Math.floor(e/200)<1?1:Math.floor(e/200);t!==s&&l(t)}};e(),window.addEventListener("resize",e)}),[]),Object(c.useEffect)((function(){t()}),[]),Object(c.useEffect)((function(){r()}),[n]),Object(c.useEffect)((function(){localStorage.setItem("sources",JSON.stringify(Object(p.a)(n)))}),[n]),Object(c.useEffect)((function(){Array.isArray(o)&&h(function(e,t,n){var r=new Array(t),c=0;return e.reduce((function(e,r){return e[c]||(e[c]=[]),e[c].push(n?n(r):r),(c+=1)>t-1&&(c=0),Object(p.a)(e)}),r)}(o,s,(function(e){return a.a.createElement(P,{item:e})})))}),[s,o]),a.a.createElement("div",{className:"content-container"},m.map((function(e){return a.a.createElement("div",{className:"content-column",style:{maxWidth:"".concat(1/s*100,"%")}},e)})))}));n(61);var R=function(e){var t=e.onClick,n=void 0===t?function(){}:t,r=e.checked;return a.a.createElement("div",{onClick:n,className:"button ".concat(r&&"checked")},e.children)},U=(n(62),{toggleSource:N}),W=Object(i.b)((function(e){return{sources:T(e)}}),U)((function(e){var t=e.sources,n=e.toggleSource;return a.a.createElement("div",{className:"control-panel"},Object(p.a)(t).map((function(e){var t=Object(b.a)(e,2),r=t[0],c=t[1];return a.a.createElement(R,{key:r,checked:c,onClick:function(){return n(r)}},r)})))}));var G=function(){return a.a.createElement("div",{className:"App"},a.a.createElement("header",{className:"App-header"},"\u041d\u043e\u0432\u043e\u0441\u0442\u0438 \u0441\u0442\u0440\u0430\u043d\u044b \u0438 \u043c\u0438\u0440\u0430"),a.a.createElement("nav",null,a.a.createElement(W,null)),a.a.createElement("article",{style:{maxWidth:"1160px"}},a.a.createElement(M,null)),a.a.createElement("footer",null))};Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));u.a.render(a.a.createElement(i.a,{store:h},a.a.createElement(G,null)),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(e){e.unregister()}))}},[[27,1,2]]]);
//# sourceMappingURL=main.c67a375f.chunk.js.map